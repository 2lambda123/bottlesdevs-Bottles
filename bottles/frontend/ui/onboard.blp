using Gtk 4.0;
using Adw 1;

template OnboardDialog : Adw.Window {
  resizable: false;
  deletable: true;
  default-width: 650;
  default-height: 550;

  Box {
    orientation: vertical;
    valign: center;
    halign: center;

    Adw.HeaderBar {
      title-widget:
      Adw.CarouselIndicatorDots {
        carousel: carousel;
      }

      ;

      styles [
        "flat",
      ]
    }

    Overlay {
      valign: center;

      [overlay]
      Button btn_previous {
        margin-start: 12;
        icon-name: "go-previous-symbolic";
        halign: start;
        valign: center;
        action-name: "app.previous-page";
        tooltip-text: _("Previous");

        styles [
          "circular",
        ]
      }

      [overlay]
      Button btn_next {
        margin-end: 12;
        icon-name: "go-next-symbolic";
        halign: end;
        valign: center;
        action-name: "app.next-page";
        tooltip-text: _("Next");

        styles [
          "circular",
        ]
      }

      Adw.Carousel carousel {
        Adw.StatusPage status_welcome {
          title: _("Welcome to Bottles");
          hexpand: true;
        }

        Adw.StatusPage {
          title: _("Tutorial");
          description: _("Before starting Bottles, let's go over some terms and usage paradigms, so you can use Bottles more efficiently.");
          child:
          Box {
            orientation: vertical;

            Button btn_skip {
              label: _("_Skip Tutorial");
              use-underline: true;
              halign: center;

              styles [
                "destructive-action",
                "pill",
              ]
            }
          }

          ;
        }

        Adw.StatusPage {
          title: _("What is a Compatibity Layer?");
          description: _("Compatibility layers, or translation layers, are software that translate information from one platform to another. Compatibility layers allow us to run platform-specific software on another platform, for example, Windows-only software on Linux.");
        }

        Adw.StatusPage {
          title: _("What is Wine?");
          description: _("Wine is a compatibility layer that translates Windows-only resources into open and platform-independent alternatives that work on Linux. Under the hood, Bottles uses Wine to run Windows software.");
        }

        Adw.StatusPage {
          title: _("What is a Runner?");
          description: _("Runners are iterations of Wine curated by communities to address specific problems. Some runners are for games, some are for apps, some are for a specific app or game, and so on. Bottles uses \"Soda\" as a general purpose runner.");
        }

        Adw.StatusPage {
          title: _("What is a \"Bottle\"?");
          description: _("A bottle is a container that runs Windows software. This allows you to separate and organize the individual bottles according to your needs. For example, you could have one bottle for Windows apps and one bottle for Windows games. If an app or game needs additional tweaking, such as a different runner or setting, then you can create a bottle specifically for that app or game.");
        }

        Adw.StatusPage {
          title: _("Almost Done");
          description: _("We need a few more minutes to set everything upâ€¦");
          child:
          Box {
            orientation: vertical;

            Button btn_install {
              label: _("Continue");
              use-underline: true;
              halign: center;

              styles [
                "suggested-action",
                "pill",
              ]
            }

            ProgressBar progressbar {
              width-request: 300;
              halign: center;
              visible: false;
              margin-top: 24;
              margin-bottom: 12;
            }
          }

          ;
        }

        // Adw.StatusPage {
        //   icon-name: "selection-mode-symbolic";
        //   title: _("Setup Completed");
        //   valign: center;
        //   child:
        //   Box {
        //     orientation: vertical;

        //     Button btn_close {
        //       label: _("Start using Bottles");
        //       use-underline: true;
        //       halign: center;

        //       styles [
        //         "suggested-action",
        //         "pill",
        //       ]
        //     }
        //   }

        //   ;
        // }
      }
    }
  }
}